<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Peta Rute Salesman</title>
  <!-- Memuat CSS Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <style>
    /* Styling untuk nav bar */
    body {
      margin: 0;
      font-family: Arial, sans-serif;
    }
    .navbar {
      background-color: #06a8f3;
      overflow: hidden;
      display: flex;
      align-items: center;
      padding: 0 20px;
    }
    .navbar a {
      color: #f2f2f2;
      text-align: center;
      padding: 14px 16px;
      text-decoration: none;
      font-size: 17px;
    }
    .navbar a:hover {
      background-color: #ddd;
      color: rgb(0, 0, 0);
    }
    /* Container untuk peta */
    #map {
      height: calc(100vh - 50px); /* Mengurangi tinggi nav bar (50px) */
      width: 100%;
      margin: 0;
      padding: 0;
    }
  </style>
</head>
<body>
  <!-- Nav Bar -->
  <div class="navbar">
    <a href="senin.html">SENIN</a>
    <a href="selasa.html">SELASA</a>
    <a href="index.html">RABU</a>
    <a href="2.html">KAMIS</a>
    <a href="jumat.html">JUMAT</a>
    <a href="sabtu.html">SABTU</a>
  </div>
  <!-- Container Peta -->
  <div id="map"></div>

  <!-- Memuat Library Leaflet -->
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
    // ===============================
    // 1) DEFINISI DATA KOORDINAT
    // ===============================
    // Kelompok 1 (Biru)
    const markersDataBlue = [
      { lat: -2.3625578, lng: 101.13698487, label: "A-Z" },
      { lat: -2.394285, lng: 101.06007, label: "JAKFAR" },
      { lat: -2.386137, lng: 101.045495, label: "JAMIRUS" },
      { lat: -2.394815, lng: 101.062275, label: "PARDI" },
      { lat: -2.38349529, lng: 101.04449883, label: "RODA SASTA" },
      { lat: -2.391828, lng: 101.045808, label: "BUNGA" },
      { lat: -2.391915, lng: 101.051014, label: "TOKO SADEWA" },
      { lat: -2.394777, lng: 101.083201, label: "TOKO LALA" },
      { lat: -2.394621, lng: 101.080395, label: "TOKO RIA" },
      { lat: -2.394611, lng: 101.083154, label: "TOKO YUNI" },
      { lat: -2.394887, lng: 101.072683, label: "TOKO ZIDDAN" },
      { lat: -2.36251383, lng: 101.14008638, label: "ALFIN" },
      { lat: -2.361006, lng: 101.140245, label: "AZIL" },
      { lat: -2.36164789, lng: 101.14013534, label: "DEDI" },
      { lat: -2.38911, lng: 101.09888, label: "ERIZAL" },
      { lat: -2.36269257, lng: 101.13665157, label: "LIDYA" },
      { lat: -2.400387, lng: 101.08105, label: "NAFSAH" },
      { lat: -2.349284, lng: 101.143524, label: "TOKO NANDA" },
      { lat: -2.344194, lng: 101.146569, label: "TOKO OLA" },
      { lat: -2.363529, lng: 101.140241, label: "TOKO YULI" },
      { lat: -2.313265, lng: 101.167165, label: "HABIL-SIFA" },
      { lat: -2.31999, lng: 101.165129, label: "TOKO ANISA SINDANG" },
      { lat: -2.381046, lng: 101.088703, label: "TOKO MD" },
      { lat: -2.381824, lng: 101.09662, label: "TOKO SUPARDI" },
      { lat: -2.383017, lng: 101.10075, label: "TOKO WINDY" },
      { lat: -2.359688, lng: 101.140363, label: "MINANG MAIMBAU" }
    ];

    // Kelompok 2 (Merah)
    const markersDataRed = [
      { lat: -2.26911856, lng: 101.14198529, label: "IRIS" },
      { lat: -2.266207, lng: 101.139624, label: "A A N" },
      { lat: -2.273938, lng: 101.142821, label: "AZZA" },
      { lat: -2.2661343, lng: 101.13975, label: "D O N A" },
      { lat: -2.27827, lng: 101.14418, label: "MAS EKO" },
      { lat: -2.268807, lng: 101.141719, label: "MERI" },
      { lat: -2.266224, lng: 101.139622, label: "PAK DE" },
      { lat: -2.26678, lng: 101.13898, label: "SANTI" },
      { lat: -2.252899, lng: 101.135044, label: "TOKO BEMBY" },
      { lat: -2.2697866, lng: 101.14394, label: "UCI" },
      { lat: -2.264105, lng: 101.14015, label: "WILI" },
      { lat: -2.27916944, lng: 101.14345682, label: "INDAH" },
      { lat: -2.25965119, lng: 101.13830402, label: "JASRIL" },
      { lat: -2.261654, lng: 101.138384, label: "R I A" },
      { lat: -2.25787697, lng: 101.13828756, label: "UJANG" },
      { lat: -2.27529, lng: 101.145016, label: "TOKO APOTIK SENTOSA" },
      { lat: -2.265298, lng: 101.139837, label: "Toko Doni" },
      { lat: -2.276127, lng: 101.142688, label: "TOKO FIKRI" },
      { lat: -2.273671, lng: 101.142558, label: "TOKO MAJU BERSAMA" },
      { lat: -2.280963, lng: 101.1425, label: "TOKO SAFA MARWA" },
      { lat: -2.276227, lng: 101.142715, label: "TOKO SERGIO" },
      { lat: -2.273227, lng: 101.142412, label: "TOKO VITA" },
      { lat: -2.27521717, lng: 101.14477502, label: "LASTRI" },
      { lat: -2.394973, lng: 101.081169, label: "TOKO DARTI" },
      { lat: -2.394901, lng: 101.079116, label: "TOKO KDM" },
      { lat: -2.15394333, lng: 101.08067167, label: "YUL" },
      { lat: -2.390428, lng: 101.121843, label: "TOKO MUDAH RIZKI" },
      { lat: -2.36133, lng: 101.140188, label: "TOKO FAFA GROUP" },
      { lat: -2.376604, lng: 101.148465, label: "TOKO LUTHFI" }
    ];

    // Kelompok 3 (Kuning)
    const markersDataYellow = [
      { lat: -2.394901, lng: 101.061286, label: "TOKO NICY" },
      { lat: -2.360327, lng: 101.140338, label: "SILFIA ARIF" },
      { lat: -2.362148, lng: 101.140281, label: "TOKO ALEENA" },
      { lat: -2.338195, lng: 101.15207, label: "TOKO AQILA" },
      { lat: -2.355246, lng: 101.141922, label: "TOKO LAZANA" },
      { lat: -2.360686, lng: 101.140346, label: "TOKO RATIH" },
      { lat: -2.363088, lng: 101.140234, label: "TOKO YANTI S" },
      { lat: -2.391633, lng: 101.0494, label: "WARUNG AA" },
      { lat: -2.361124, lng: 101.140243, label: "TOKO DANIL" }
    ];

    // ===============================
    // 2) BUAT PETA LEAFLET
    // ===============================
    // Gabungkan semua marker (biru + merah + kuning) untuk perhitungan posisi peta
    const allMarkers = [
      ...markersDataBlue,
      ...markersDataRed,
      ...markersDataYellow
    ];

    let sumLat = 0;
    let sumLng = 0;
    allMarkers.forEach((data) => {
      sumLat += data.lat;
      sumLng += data.lng;
    });
    const avgLat = sumLat / allMarkers.length;
    const avgLng = sumLng / allMarkers.length;

    // Membuat objek peta dan pusatkan ke posisi rata-rata
    const map = L.map('map').setView([avgLat, avgLng], 13);

    // ===============================
    // 3) DEFINISIKAN BASE LAYERS (Tampilan Peta)
    // ===============================
    // Tampilan jalan (OpenStreetMap)
    const osm = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19,
      attribution: '© OpenStreetMap'
    }).addTo(map);

    // Tampilan satelit (Esri World Imagery)
    const satellite = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
      maxZoom: 19,
      attribution: 'Tiles © Esri'
    });

    // Tampilan medan/terrain (OpenTopoMap)
    const terrain = L.tileLayer('https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png', {
      maxZoom: 17,
      attribution: '© OpenTopoMap'
    });

    // ===============================
    // 4) FUNGSI UNTUK ICON CUSTOM
    // ===============================
    function createCustomIcon(color) {
      return L.icon({
        iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-' + color + '.png',
        shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
      });
    }

    // Icon untuk tiap kelompok
    const blueIcon = createCustomIcon('blue');
    const redIcon = createCustomIcon('red');
    const yellowIcon = createCustomIcon('yellow');

    // ===============================
    // 5) TAMBAH MARKER KELOMPOK 1 (BIRU)
    // ===============================
    const blueMarkers = L.layerGroup();
    markersDataBlue.forEach((data) => {
      L.marker([data.lat, data.lng], { icon: blueIcon })
        .bindPopup("<b>" + data.label + "</b><br/>Koordinat: " + data.lat + ", " + data.lng)
        .addTo(blueMarkers);
    });
    blueMarkers.addTo(map);

    // ===============================
    // 6) TAMBAH MARKER KELOMPOK 2 (MERAH)
    // ===============================
    const redMarkers = L.layerGroup();
    markersDataRed.forEach((data) => {
      L.marker([data.lat, data.lng], { icon: redIcon })
        .bindPopup("<b>" + data.label + "</b><br/>Koordinat: " + data.lat + ", " + data.lng)
        .addTo(redMarkers);
    });
    redMarkers.addTo(map);

    // ===============================
    // 7) TAMBAH MARKER KELOMPOK 3 (KUNING)
    // ===============================
    const yellowMarkers = L.layerGroup();
    markersDataYellow.forEach((data) => {
      L.marker([data.lat, data.lng], { icon: yellowIcon })
        .bindPopup("<b>" + data.label + "</b><br/>Koordinat: " + data.lat + ", " + data.lng)
        .addTo(yellowMarkers);
    });
    yellowMarkers.addTo(map);

    // ===============================
    // 8) CONTROL LAYER (Pilih Tampilan dan Marker)
    // ===============================
    const baseMaps = {
      "Jalan (OSM)": osm,
      "Satelit (Esri)": satellite,
      "Medan (OpenTopoMap)": terrain
    };

    const overlayMaps = {
      "Ghazi Biru": blueMarkers,
      "Bagas Merah": redMarkers,
      "Azka Kuning": yellowMarkers
    };

    L.control.layers(baseMaps, overlayMaps, { collapsed: false }).addTo(map);
  </script>
</body>
</html>
